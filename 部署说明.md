# FHE Poker 前端部署到 Vercel 说明

## 📝 已完成的准备工作

### ✅ 文件清理
已删除以下不必要的文件：
- 所有测试 HTML 文件（debug-relayer.html, test-*.html 等）
- 前端开发文档（DEPLOYMENT.md, FIXES.md 等）
- 测试脚本文件

### ✅ 配置文件
以下配置文件已就绪：
- `frontend/vercel.json` - Vercel 部署配置
- `frontend/.gitignore` - Git 忽略文件配置
- `frontend/vite.config.ts` - Vite 构建配置
- `frontend/package.json` - 项目依赖配置

### ✅ 文档
已创建以下部署文档：
- `frontend/QUICK_DEPLOY.md` - 快速部署指南（3 步完成）
- `frontend/VERCEL_DEPLOYMENT_GUIDE.md` - 详细部署指南
- `VERCEL_DEPLOYMENT_CHECKLIST.md` - 部署检查清单

## 🚀 立即开始部署（3 步）

### 第 1 步：推送代码到 GitHub

```bash
# 在项目根目录
cd /Users/liuguanwei/myprojects/zama

# 添加所有更改
git add .

# 提交
git commit -m "Ready for Vercel deployment"

# 推送到 GitHub（如果还没有远程仓库，先在 GitHub 网站创建一个）
git push origin main
```

### 第 2 步：在 Vercel 导入项目

1. 访问 **https://vercel.com**
2. 使用 GitHub 账号登录
3. 点击 **"Add New..." → "Project"**
4. 选择你的 GitHub 仓库
5. 点击 **"Import"**

### 第 3 步：配置并部署

在配置页面设置：

| 配置项 | 值 |
|--------|-----|
| **Framework Preset** | Vite |
| **Root Directory** | `fhe-poker/frontend` ⚠️ **重要！** |
| **Build Command** | `npm run build` |
| **Output Directory** | `dist` |
| **Install Command** | `npm install` |

点击 **"Deploy"** 按钮，等待 1-2 分钟即可完成！

## 🎯 重要提示

### ⚠️ 必须设置 Root Directory

因为你的前端代码在 `fhe-poker/frontend` 目录下，所以**必须**在 Vercel 配置中设置：

```
Root Directory: fhe-poker/frontend
```

否则 Vercel 会找不到 `package.json` 文件而部署失败。

### 📁 项目结构

```
zama/
└── fhe-poker/
    ├── frontend/          ← 这是前端项目根目录
    │   ├── src/
    │   ├── public/
    │   ├── package.json
    │   ├── vite.config.ts
    │   └── vercel.json
    ├── contracts/
    ├── deploy/
    └── ...
```

## ✅ 部署成功后

你会得到一个 URL，例如：
```
https://fhe-poker.vercel.app
```

或者：
```
https://your-project-name.vercel.app
```

## 🔄 自动部署

配置完成后，每次你推送代码到 GitHub 的 main 分支，Vercel 会自动重新部署！

```bash
# 修改代码后
git add .
git commit -m "Update feature"
git push origin main

# Vercel 会自动检测并重新部署
```

## 🛠️ 可选：清理开发文档

如果你想清理项目根目录下的 78 个开发文档：

```bash
cd fhe-poker
chmod +x CLEANUP_DOCS.sh
./CLEANUP_DOCS.sh
```

这会将所有开发文档移动到 `docs/archive/` 目录，只保留 `README.md` 和 `LICENSE`。

## 📚 更多帮助

- **快速指南**: `frontend/QUICK_DEPLOY.md`
- **详细指南**: `frontend/VERCEL_DEPLOYMENT_GUIDE.md`
- **检查清单**: `VERCEL_DEPLOYMENT_CHECKLIST.md`

## 🆘 遇到问题？

### 构建失败
1. 先在本地测试构建：
   ```bash
   cd fhe-poker/frontend
   npm install
   npm run build
   ```
2. 查看 Vercel 构建日志中的错误信息

### 页面空白
1. 检查浏览器控制台的错误
2. 确认 Root Directory 设置正确

### 404 错误
1. 确认 `vercel.json` 文件存在（已存在）
2. 检查 rewrites 配置（已配置）

## 💡 提示

- Vercel 免费版完全够用（100GB 带宽/月）
- 支持自动 HTTPS
- 全球 CDN 加速
- 无限部署次数

## 🎉 开始部署吧！

按照上面的 3 步操作，几分钟内就能完成部署！

祝你部署顺利！🚀

